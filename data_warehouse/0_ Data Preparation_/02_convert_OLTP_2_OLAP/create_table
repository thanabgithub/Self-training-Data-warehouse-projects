

CREATE TABLE FactRental(
    RentalId INTEGER PRIMARY KEY AUTOINCREMENT,
    CustomerKey INTEGER,
    StoreKey INTEGER,
    PaymentStaffKey INTEGER,
    FilmKey INTEGER,
    RentalDateKey INTEGER,
    ReturnDateKey INTEGER,
    PaymentDateKey INTEGER,
    OntimeSummaryKey INTEGER,
    SalesAmount INTEGER,
    RentalPeriod INTEGER,
    
    FOREIGN KEY (CustomerKey) REFERENCES DimCustomer(CustomerKey),    
    FOREIGN KEY (StoreKey) REFERENCES DimStore(StoreKey),    
    FOREIGN KEY (PaymentStaffKey) REFERENCES DimPaymentStaff(PaymentStaffKey),   
    FOREIGN KEY (FilmKey) REFERENCES DimFilm(FilmKey)   ,
    FOREIGN KEY (RentalDateKey) REFERENCES DimRentalDate(RentalDateKey) ,   
    FOREIGN KEY (ReturnDateKey) REFERENCES DimReturnDate(ReturnDateKey) ,  
    FOREIGN KEY (PaymentDateKey) REFERENCES DimPaymentDate(PaymentDateKey) ,
    FOREIGN KEY (OntimeSummaryKey) REFERENCES DimOntimeSummary(OntimeSummaryKey)
        
        

);

CREATE TABLE DimOntimeSummary(
    OntimeSummaryKey INTEGER PRIMARY KEY AUTOINCREMENT,
    ReturnOnTime BOOLEAN,       
    PayOnTime BOOLEAN);
    
CREATE TABLE DimCustomer (
    CustomerKey INTEGER PRIMARY KEY AUTOINCREMENT,
    CustomerId INTEGER,
    FirstName VARCHAR(20),
    LastName VARCHAR(20)
);

CREATE TABLE DimStore (
    StoreKey INTEGER PRIMARY KEY AUTOINCREMENT,
    StoreId INTEGER,
    ManagerStaffFirstName VARCHAR(20),
    ManagerStaffLastName VARCHAR(20),  
    AddressId INTEGER
);

CREATE TABLE DimPaymentStaff (
    PaymentStaffKey INTEGER PRIMARY KEY AUTOINCREMENT,
    StaffId INTEGER,
    FirstName VARCHAR(20),
    LastName VARCHAR(20)
);


CREATE TABLE DimRentalDate(
    RentalDateKey INTEGER PRIMARY KEY AUTOINCREMENT,
    Date TIME,
    DayOfWeek INTEGER,
    DayOfYear INTEGER,
    WeekOfYear INTEGER,
    MonthOfYear INTEGER,
    QuarterOfYear INTEGER
);

CREATE TABLE DimReturnDate(
    ReturnDateKey INTEGER PRIMARY KEY AUTOINCREMENT,
    Date TIME,
    DayOfWeek INTEGER,
    DayOfYear INTEGER,
    WeekOfYear INTEGER,
    MonthOfYear INTEGER,
    QuarterOfYear INTEGER
);

CREATE TABLE DimPaymentDate(
    PaymentDateKey INTEGER PRIMARY KEY AUTOINCREMENT,
    Date TIME,
    DayOfWeek INTEGER,
    DayOfYear INTEGER,
    WeekOfYear INTEGER,
    MonthOfYear INTEGER,
    QuarterOfYear INTEGER
);


CREATE TABLE DimFilm (
    FilmKey INTEGER PRIMARY KEY AUTOINCREMENT,
    FilmId INTEGER,
    ReleaseYear INTEGER,
    Language VARCHAR(20),
    OriginalLanguage  VARCHAR(20),
    Rating INTEGER,
    RentalDuration INTEGER,
    RentalRate INTEGER,
    Length INTEGER,
    ReplacementCost INTEGER,
    Category VARCHAR(20),
    ActorBitMapKey INTEGER,
    FOREIGN KEY (ActorBitMapKey) REFERENCES DimActorBitMap(ActorBitMapKey)  

);

CREATE TABLE DimActorBitMap(

    ActorBitMapKey  INTEGER PRIMARY KEY AUTOINCREMENT, 
    PENELOPE_GUINESS	BOOLEAN,
    NICK_WAHLBERG	BOOLEAN,
    ED_CHASE	BOOLEAN,
    JENNIFER_DAVIS	BOOLEAN,
    JOHNNY_LOLLOBRIGIDA	BOOLEAN,
    BETTE_NICHOLSON	BOOLEAN,
    GRACE_MOSTEL	BOOLEAN,
    MATTHEW_JOHANSSON	BOOLEAN,
    JOE_SWANK	BOOLEAN,
    CHRISTIAN_GABLE	BOOLEAN,
    ZERO_CAGE	BOOLEAN,
    KARL_BERRY	BOOLEAN,
    UMA_WOOD	BOOLEAN,
    VIVIEN_BERGEN	BOOLEAN,
    CUBA_OLIVIER	BOOLEAN,
    FRED_COSTNER	BOOLEAN,
    HELEN_VOIGHT	BOOLEAN,
    DAN_TORN	BOOLEAN,
    BOB_FAWCETT	BOOLEAN,
    LUCILLE_TRACY	BOOLEAN,
    KIRSTEN_PALTROW	BOOLEAN,
    ELVIS_MARX	BOOLEAN,
    SANDRA_KILMER	BOOLEAN,
    CAMERON_STREEP	BOOLEAN,
    KEVIN_BLOOM	BOOLEAN,
    RIP_CRAWFORD	BOOLEAN,
    JULIA_MCQUEEN	BOOLEAN,
    WOODY_HOFFMAN	BOOLEAN,
    ALEC_WAYNE	BOOLEAN,
    SANDRA_PECK	BOOLEAN,
    SISSY_SOBIESKI	BOOLEAN,
    TIM_HACKMAN	BOOLEAN,
    MILLA_PECK	BOOLEAN,
    AUDREY_OLIVIER	BOOLEAN,
    JUDY_DEAN	BOOLEAN,
    BURT_DUKAKIS	BOOLEAN,
    VAL_BOLGER	BOOLEAN,
    TOM_MCKELLEN	BOOLEAN,
    GOLDIE_BRODY	BOOLEAN,
    JOHNNY_CAGE	BOOLEAN,
    JODIE_DEGENERES	BOOLEAN,
    TOM_MIRANDA	BOOLEAN,
    KIRK_JOVOVICH	BOOLEAN,
    NICK_STALLONE	BOOLEAN,
    REESE_KILMER	BOOLEAN,
    PARKER_GOLDBERG	BOOLEAN,
    JULIA_BARRYMORE	BOOLEAN,
    FRANCES_DAYLEWIS	BOOLEAN,
    ANNE_CRONYN	BOOLEAN,
    NATALIE_HOPKINS	BOOLEAN,
    GARY_PHOENIX	BOOLEAN,
    CARMEN_HUNT	BOOLEAN,
    MENA_TEMPLE	BOOLEAN,
    PENELOPE_PINKETT	BOOLEAN,
    FAY_KILMER	BOOLEAN,
    DAN_HARRIS	BOOLEAN,
    JUDE_CRUISE	BOOLEAN,
    CHRISTIAN_AKROYD	BOOLEAN,
    DUSTIN_TAUTOU	BOOLEAN,
    HENRY_BERRY	BOOLEAN,
    CHRISTIAN_NEESON	BOOLEAN,
    JAYNE_NEESON	BOOLEAN,
    CAMERON_WRAY	BOOLEAN,
    RAY_JOHANSSON	BOOLEAN,
    ANGELA_HUDSON	BOOLEAN,
    MARY_TANDY	BOOLEAN,
    JESSICA_BAILEY	BOOLEAN,
    RIP_WINSLET	BOOLEAN,
    KENNETH_PALTROW	BOOLEAN,
    MICHELLE_MCCONAUGHEY	BOOLEAN,
    ADAM_GRANT	BOOLEAN,
    SEAN_WILLIAMS	BOOLEAN,
    GARY_PENN	BOOLEAN,
    MILLA_KEITEL	BOOLEAN,
    BURT_POSEY	BOOLEAN,
    ANGELINA_ASTAIRE	BOOLEAN,
    CARY_MCCONAUGHEY	BOOLEAN,
    GROUCHO_SINATRA	BOOLEAN,
    MAE_HOFFMAN	BOOLEAN,
    RALPH_CRUZ	BOOLEAN,
    SCARLETT_DAMON	BOOLEAN,
    WOODY_JOLIE	BOOLEAN,
    BEN_WILLIS	BOOLEAN,
    JAMES_PITT	BOOLEAN,
    MINNIE_ZELLWEGER	BOOLEAN,
    GREG_CHAPLIN	BOOLEAN,
    SPENCER_PECK	BOOLEAN,
    KENNETH_PESCI	BOOLEAN,
    CHARLIZE_DENCH	BOOLEAN,
    SEAN_GUINESS	BOOLEAN,
    CHRISTOPHER_BERRY	BOOLEAN,
    KIRSTEN_AKROYD	BOOLEAN,
    ELLEN_PRESLEY	BOOLEAN,
    KENNETH_TORN	BOOLEAN,
    DARYL_WAHLBERG	BOOLEAN,
    GENE_WILLIS	BOOLEAN,
    MEG_HAWKE	BOOLEAN,
    CHRIS_BRIDGES	BOOLEAN,
    JIM_MOSTEL	BOOLEAN,
    SPENCER_DEPP	BOOLEAN,
    SUSAN_DAVIS	BOOLEAN,
    WALTER_TORN	BOOLEAN,
    MATTHEW_LEIGH	BOOLEAN,
    PENELOPE_CRONYN	BOOLEAN,
    SIDNEY_CROWE	BOOLEAN,
    GROUCHO_DUNST	BOOLEAN,
    GINA_DEGENERES	BOOLEAN,
    WARREN_NOLTE	BOOLEAN,
    SYLVESTER_DERN	BOOLEAN,
    CAMERON_ZELLWEGER	BOOLEAN,
    RUSSELL_BACALL	BOOLEAN,
    MORGAN_HOPKINS	BOOLEAN,
    MORGAN_MCDORMAND	BOOLEAN,
    HARRISON_BALE	BOOLEAN,
    DAN_STREEP	BOOLEAN,
    RENEE_TRACY	BOOLEAN,
    CUBA_ALLEN	BOOLEAN,
    WARREN_JACKMAN	BOOLEAN,
    PENELOPE_MONROE	BOOLEAN,
    LIZA_BERGMAN	BOOLEAN,
    SALMA_NOLTE	BOOLEAN,
    JULIANNE_DENCH	BOOLEAN,
    SCARLETT_BENING	BOOLEAN,
    ALBERT_NOLTE	BOOLEAN,
    FRANCES_TOMEI	BOOLEAN,
    KEVIN_GARLAND	BOOLEAN,
    CATE_MCQUEEN	BOOLEAN,
    DARYL_CRAWFORD	BOOLEAN,
    GRETA_KEITEL	BOOLEAN,
    JANE_JACKMAN	BOOLEAN,
    ADAM_HOPPER	BOOLEAN,
    RICHARD_PENN	BOOLEAN,
    GENE_HOPKINS	BOOLEAN,
    RITA_REYNOLDS	BOOLEAN,
    ED_MANSFIELD	BOOLEAN,
    MORGAN_WILLIAMS	BOOLEAN,
    LUCILLE_DEE	BOOLEAN,
    EWAN_GOODING	BOOLEAN,
    WHOOPI_HURT	BOOLEAN,
    CATE_HARRIS	BOOLEAN,
    JADA_RYDER	BOOLEAN,
    RIVER_DEAN	BOOLEAN,
    ANGELA_WITHERSPOON	BOOLEAN,
    KIM_ALLEN	BOOLEAN,
    ALBERT_JOHANSSON	BOOLEAN,
    FAY_WINSLET	BOOLEAN,
    EMILY_DEE	BOOLEAN,
    RUSSELL_TEMPLE	BOOLEAN,
    JAYNE_NOLTE	BOOLEAN,
    GEOFFREY_HESTON	BOOLEAN,
    BEN_HARRIS	BOOLEAN,
    MINNIE_KILMER	BOOLEAN,
    MERYL_GIBSON	BOOLEAN,
    IAN_TANDY	BOOLEAN,
    FAY_WOOD	BOOLEAN,
    GRETA_MALDEN	BOOLEAN,
    VIVIEN_BASINGER	BOOLEAN,
    LAURA_BRODY	BOOLEAN,
    CHRIS_DEPP	BOOLEAN,
    HARVEY_HOPE	BOOLEAN,
    OPRAH_KILMER	BOOLEAN,
    CHRISTOPHER_WEST	BOOLEAN,
    HUMPHREY_WILLIS	BOOLEAN,
    AL_GARLAND	BOOLEAN,
    NICK_DEGENERES	BOOLEAN,
    LAURENCE_BULLOCK	BOOLEAN,
    WILL_WILSON	BOOLEAN,
    KENNETH_HOFFMAN	BOOLEAN,
    MENA_HOPPER	BOOLEAN,
    OLYMPIA_PFEIFFER	BOOLEAN,
    GROUCHO_WILLIAMS	BOOLEAN,
    ALAN_DREYFUSS	BOOLEAN,
    MICHAEL_BENING	BOOLEAN,
    WILLIAM_HACKMAN	BOOLEAN,
    JON_CHASE	BOOLEAN,
    GENE_MCKELLEN	BOOLEAN,
    LISA_MONROE	BOOLEAN,
    ED_GUINESS	BOOLEAN,
    JEFF_SILVERSTONE	BOOLEAN,
    MATTHEW_CARREY	BOOLEAN,
    DEBBIE_AKROYD	BOOLEAN,
    RUSSELL_CLOSE	BOOLEAN,
    HUMPHREY_GARLAND	BOOLEAN,
    MICHAEL_BOLGER	BOOLEAN,
    JULIA_ZELLWEGER	BOOLEAN,
    RENEE_BALL	BOOLEAN,
    ROCK_DUKAKIS	BOOLEAN,
    CUBA_BIRCH	BOOLEAN,
    AUDREY_BAILEY	BOOLEAN,
    GREGORY_GOODING	BOOLEAN,
    JOHN_SUVARI	BOOLEAN,
    BURT_TEMPLE	BOOLEAN,
    MERYL_ALLEN	BOOLEAN,
    JAYNE_SILVERSTONE	BOOLEAN,
    BELA_WALKEN	BOOLEAN,
    REESE_WEST	BOOLEAN,
    MARY_KEITEL	BOOLEAN,
    JULIA_FAWCETT	BOOLEAN,
    THORA_TEMPLE	BOOLEAN
);


